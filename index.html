<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Chicago City-Owned Land Inventory</title>
    <!--<link rel="manifest" href="/manifest.json"> -->


    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


    <link rel="stylesheet" href="style.css">

    <title>Project 1</title>
    
    <style>
      #maps {
        height: 100%;
      }
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>




</head>

<body>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand">City-Owned Land Inventory</a>
            </div>

            <ul class="nav navbar-nav" id="topNav">
                <li>
                    <a data-screen="home">Home</a>
                </li>
                <li>
                    <a data-screen="form">Form</a>
                </li>
                <li>
                    <a data-screen="datapg">Data</a>
                </li>
                <li>
                    <a data-screen="maps">Maps</a>
                </li>
                <li>
                    <a data-screen="about">About</a>
                </li>
            </ul>
        </div>
    </nav>

    <div id="content">
        
        <!--------- Home Page ---------->
        
        <div class="screen" id="home">
            <div class="container">
                <h1 style="text-align: center">Home Page describing web and instructions on how to use</h1>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.
                </p>
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/0f/2010-02-19_3000x2000_chicago_skyline.jpg" alt="chicago-skyline" class="center">

            </div>
        </div>
        
        <!---------------- FORM PAGE ------------->
        
        <div class="screen" id="form">
            <center>
            <div class="container header">
                <h1>Data Filter</h1>
                <p>Enter any zip code to filter data by:</p>
            </div>

            <div class="container">
                <form id="data">
                    <input type="number" name="zip codes" id="zip">




                </form>

                    <button id="search">Search</button>

                    <div id="results">

                    </div>
                </div>

            <div class="container" id="results"> </div>
            </center>
        </div>
        
        <!---------------- DATA PAGE ---------------->

        <div class="screen" id="datapg">
            
            <center>
        <h1>Results page</h1>
          <div class="alert alert-primary" role="alert">
            New Search Results Appear Below Go Check Them Out!!!
          </div>
                <form id="datas">
                    <select name="department" id="department">
                        <option></option>
                    </select>
                    
                </form>
        </center>
         <div class="container">

              <div class="row">
                <div class="card template" id="card-temp">
                  <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">first teext of card</p>
                    <p2 class="card-text2">second text or card.</p2>
              </div> 
            </div>
          </div>
        </div>
        </div> 
        
        <!-----------------MAPS PAGE ----------->

        <div class="screen" id="maps">
            <center>
            <h1>Maps</h1>
                <script> // Move it to the top, before the closing body tag
                    // Initialize and add the map
                    let map;//creating a variable (global)
                    function initMap() {
                      // The location of Uluru
                      const chicago = { lat: 41.8696, lng: -87.6496 };
                      // The map, centered at Uluru
                      map = new google.maps.Map(document.getElementById("map"), {
                        zoom: 4,
                        center: chicago,
                      });
                      // The marker, positioned at Uluru
                      const marker = new google.maps.Marker({
                        position: chicago,
                        map: map,
                      });
                    }
                </script>
                  <h3>Google map pointing to UIC</h3>
                    <!--The div element for the map -->
                    <div id="map"></div>
            </center>
        </div>
        
        <!---------------ABOUT PAGE ------------------>

        <div class="screen" id="about">
            <h1>About page</h1>
            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.
            </p>
        </div>

    </div>
    
    <!---------------Controls navbar buttons --------------->

    <script>
        // when page first loads we show the home screen
        
        document.querySelector("#home").style.display= "block";
        
       
        let navAnchors = document.querySelectorAll("ul li a");
        navAnchors.forEach((anchor) => {
            anchor.addEventListener("click", (event) => {
                // hide all screens first
                document.querySelectorAll(".screen").forEach((screen) => {
                    screen.style.display = "none";
                })
                // read data screen attribute
                let screen = event.target.getAttribute("data-screen");
                // find relevant screen
                let targetScreen = document.querySelector("#" + screen);
                // show it
                targetScreen.style.display = "block"
            })
        })
    </script>
    
    <!--------------- Filters data from api by zip code -------------->
    
    <script>
        let endpoint1 = "https://data.cityofchicago.org/resource/aksk-kvfp.json";
        
        document.querySelector("#search").addEventListener("click", (e) => {
            // read the value of the input box
            let zip = document.querySelector("#zip").value;
            
            // construct url
            let url = endpoint1 + "?zip_code=" + zip;
            
            document.querySelector("#results").innerText= "";
            
            // fetch
            fetch(url)
            .then((response) => {return response.json()})
            .then((data) => {
                
                document.querySelector("#results").innerText="Results Found: " + data.length;
                    
                for (let item of data) {
                    // create a paragraph
                    let p = document.createElement("p")
                    
                    // set the value
                    p.innerText = "Address: " + item["address"] + ", ID: " + item["id"];
                    
                    // append to the body
                    document.querySelector("#results").append(p);
                }
            
            })
               
                
        });
        
        
    </script>
    
    <!-------- Controls data page, creates cards and populates --------------------->
    
    <script>
        
        let url = "https://data.cityofchicago.org/resource/aksk-kvfp.json";
        
        let cd = document.querySelector("#card-temp");
        
        
        
        fetch(url)
            .then((response) => {return response.json()})
            .then((data) => {
                for (let item of data){
                    let clone = cd.cloneNode(true);
                    let c = "Community Name: " + item["community_area_name"];
                    let pn = "Pin: " + item["pin"];
                    let p = "Property Address: " + item["address"] + ", Square-footage: " + item["sq_ft"];
                    clone.querySelector("h5").innerText = c;
                    clone.querySelector("h6").innexText = pn;
                    clone.querySelector("p").innerText = p;
                    cd.parentElement.append(clone);
                }
            })
        
    </script>
    
    <!-- For maps page
    <script src="https://maps.googleapis.com/maps/api/jskey=AIzaSyCNwOMzHC_K1xdHdelrYsRcVRCgYRm2MRI&callback=initMap&libraries=&v=weekly" async></script>
    
    --->
   

    


</body>

</html>