<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Chicago City-Owned Land Inventory</title>
    <!--<link rel="manifest" href="/manifest.json"> -->


    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


    <link rel="stylesheet" href="style.css">

    <title>form</title>



</head>

<body>

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">City-Owned Land Inventory</a>
            </div>

            <ul class="nav navbar-nav">
                <li><a href="index.html">Home/Instructions</a>
                </li>
                <li class="active"><a href="form.html">Form</a>
                </li>
                <li><a href="data.html">Data</a>
                </li>
                <li><a href="maps.html">Maps</a>
                </li>
                <li><a href="about.html">About</a>
                </li>
            </ul>
        </div>
    </nav>


    <div class="container header">
        <h1>Data Filter</h1>
        <p>Enter any zip code to filter data by: </p>
    </div>

    <div class="container">
        <form id="data">
            <input type="number" name="zip codes" id="zip"> 

            
      

        </form>

        <button id="search">Search</button>

        <div id="results">

        </div>

    </div>

    <script>
        
        let endpoint = "https://data.cityofchicago.org/resource/aksk-kvfp.json";
        
        document.querySelector("#search").addEventListener("click", (e) => {
            // read the value of the input box
            let zip = document.querySelector("#zip").value;
            
            // construct url
            let url = endpoint + "?zip_code=" + zip;
            
            // fetch
            fetch(url)
            .then((response) => {return response.json()})
            .then((data) => {
                
                for (let item of data) {
                    // create a paragraph
                    let p = document.createElement("p")
                    
                    // set the value
                    p.innerText = "Address: " + item["address"] + " ID: " + item["id"];
                    
                    // append to the body
                    document.body.append(p);
                }
            
            })
               
                
        });
        
        
        
        
    </script>



</body>

</html>